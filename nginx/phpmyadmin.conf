# Configuration Nginx pour phpMyAdmin
# Ã€ ajouter dans /etc/nginx/sites-available/ ou inclure dans la config principale

location /phpmyadmin {
    alias /usr/share/phpmyadmin;
    index index.php;
    
    location ~ ^/phpmyadmin/(.+\.php)$ {
        alias /usr/share/phpmyadmin/$1;
        fastcgi_pass unix:/run/php/php8.4-fpm.sock;  # Ajuster selon votre version PHP
        fastcgi_index index.php;
        include fastcgi_params;
        fastcgi_param SCRIPT_FILENAME $request_filename;
    }
    
    location ~* ^/phpmyadmin/(.+\.(jpg|jpeg|gif|css|png|js|ico|html|xml|txt))$ {
        alias /usr/share/phpmyadmin/$1;
    }
}

# Alternative : sous-domaine
# server {
#     listen 80;
#     server_name phpmyadmin.mokilievent.com;
#     
#     root /usr/share/phpmyadmin;
#     index index.php;
#     
#     location ~ \.php$ {
#         fastcgi_pass unix:/run/php/php8.4-fpm.sock;
#         fastcgi_index index.php;
#         include fastcgi_params;
#         fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
#     }
# }

